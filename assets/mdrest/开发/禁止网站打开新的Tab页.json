{"date":"2022-02-23T00:00:00Z","html":"\u003cp\u003e当我们浏览网页一段时间后，你一定见过下面的场景, 浏览器会产生大量的Tab页，当我们会后再找自己的历史内容时，往往会迷失其中。\u003c/p\u003e\n\n\u003cp\u003e\u003cdiv class=\"image-package\"\u003e\u003cimg src=\"/开发/image/禁止网站打开新的Tab页/tabs.jpg\" alt=\"tabs\" title=\"tab\"/\u003e\u003cdiv class=\"caption\"\u003etab\u003c/div\u003e\u003c/div\u003e\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e这个问题的主要原因是，很多开发者滥用网页链接的_blank 特性，打开了很多没有意义的Tab页面。很多网站开发人员为了兼容性，没能正确衡量连接的_blank场景。我们可以通过以下脚本强制网页连载在当前页面打开。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch2 id=\"解决方法\"\u003e解决方法\u003c/h2\u003e\n\n\u003cp\u003e安装自定义脚本插件，让网页默认在当前页面打开链接，如果需要在新tab页打开，则鼠标右键手动在新的Tab页打开即可。\u003c/p\u003e\n\n\u003cp\u003e步骤：\u003c/p\u003e\n\n\u003col\u003e\n\u003cli\u003e安装 Userscripts 插件\u003c/li\u003e\n\u003cli\u003e复制脚本到 Userscripts\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch3 id=\"1-安装-userscripts-插件\"\u003e1. 安装 Userscripts 插件\u003c/h3\u003e\n\n\u003cp\u003e以下是 chrome 和 Safari插件地址：\u003c/p\u003e\n\n\u003cp\u003eSafari 安装插件：\u003ca href=\"https://apps.apple.com/us/app/userscripts/id1463298887\"\u003ehttps://apps.apple.com/us/app/userscripts/id1463298887\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eChrome 安装插件：\u003ca href=\"https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo\"\u003ehttps://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3 id=\"2-复制脚本到插件\"\u003e2. 复制脚本到插件\u003c/h3\u003e\n\n\u003cp\u003e安装好插件下，可以点击新建脚本，复制下面的内容到脚本中，点击保存。 然后刷新页面，页面中的所有链接就可以只在当前页面打开了\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-js\"\u003e// ==UserScript==\n// @name        NoTargetBlank\n// @description All links open in current tab，diable web open new tab\n// @version      0.1\n// @author       github.com/ti/\n// @match       *://*/*\n// ==/UserScript==\nfunction removeAllTargetBlank(delay, maxCount, count) {\n    if (count \u0026amp;\u0026amp; count \u0026gt;= maxCount) {\n        return\n    }\n    if (!count) {\n        count = 1;\n    }\n    document.querySelectorAll('a[target=\u0026quot;_blank\u0026quot;]').forEach((v) =\u0026gt; {\n        v.removeAttribute('target');\n    });\n    setTimeout((d, m, c) =\u0026gt; {\n        d = 1000;\n        c++;\n        removeAllTargetBlank(d, m, c);\n    }, delay, delay, maxCount, count);\n}\nremoveAllTargetBlank(200, 10);\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e备注：脚本的主要逻辑是，在页面载入200毫秒后，查找页面中的所有target为blank的链接，移除其target属性。再之后每隔一秒执行一次这样的行为，10秒后停止。之所以这样做是因为很多页面内容是异步加载的。页面完整载入耗时较长。采用延时模式是为了尽可能不影响页面的加载速度。\u003c/p\u003e\n\u003c/blockquote\u003e\n","location":"开发/禁止网站打开新的Tab页","picture":"/开发/image/tabs_thum.png","tags":["妙招","网页"],"title":"[生活小妙招] 禁止网站打开新的Tab页"}